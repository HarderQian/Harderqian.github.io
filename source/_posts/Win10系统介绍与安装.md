---
title: Win10系统安装
date: 2018-03-20 14:27:33
permalink: AboutWin10
categories: 系统安全
tags: [Win10, 重装系统]
description:
---

<img src="https://hexorepo.oss-cn-hongkong.aliyuncs.com/images/win10.png" alt="hexo" style="width:100%" />  

## 前言  
Windows 10是美国微软公司研发的跨平台及设备应用的操作系统，是微软发布的最后一个独立Windows版本。本文以安装win10 64位专业版为例，详细介绍了安装的流程以及安装过程中遇到的相关问题。

<!-- more -->
## 硬盘分区表类型
常见的硬盘分区表类型，有MBR和GPT，下面介绍一下两种类型各自的定义和特点。
### MBR
定义：MBR（Main Boot Record 主引导记录区）位于整个硬盘的0磁道0柱面1扇区，包含了硬盘的一系列参数和一段引导程序，负责磁盘操作系统(DOS)对磁盘进行读写时分区合法性的判别、分区引导信息的定位。  
特点：MBR分区主分区数目不能超过4个，很多时候，4个主分区并不能满足需要。MBR分区方案无法支持超过2TB容量的磁盘。因为这一方案用4个字节存储分区的总扇区数，最大能表示2的32次方的扇区个数，按每扇区512字节计算，每个分区最大不能超过2TB。磁盘容量超过2TB以后，分区的起止位置也就无法表示了，BIOS将无法识别分区。
### GPT
定义：GUID磁盘分区表（GUID Partition Table，缩写：GPT）其含义为“全局唯一标识磁盘分区表”，是一个实体硬盘的分区表的结构布局的标准。它是可扩展固件接口（EFI）标准（被Intel用于替代个人计算机的BIOS）的一部分，被用于替代BIOS系统中的一32bits来存储逻辑块地址和大小信息的主开机纪录（MBR）分区表。  
特点：在GTP磁盘的第一个数据块中同样有一个与MBR（主引导记录）类似的标记，叫做PMBR。PMBR的作用是，当使用不支持GPT的分区工具时，整个硬盘将显示为一个受保护的分区，以防止分区表及硬盘数据遭到破坏。UEFI并不从PMBR中获取GPT磁盘的分区信息，它有自己的分区表，即GPT分区表。GPT的分区方案之所以比MBR更先进，是因为在GPT分区表头中可自定义分区数量的最大值，也就是说GPT分区表的大小不是固定的。在Windows中，微软设定GPT磁盘最大分区数量为128个。另外，GPT分区方案中逻辑块地址（LBA）采用64位二进制数表示，可以表示2^64个逻辑块地址。除此之外，GPT分区方案在硬盘的末端还有一个备份分区表，保证了分区信息不容易丢失，并且相比于MBR，GPT支持2TB以上的大硬盘。

## 操作系统启动模式
操作系统启动模式有两种，一种是Legacy BIOS，另一种是UEFI，下面介绍一下两种启动模式。
### Legacy BIOS
Legacy BIOS的运行流程是：开机-->BIOS初始化-->BIOS自检-->引导操作系统-->进入系统；可以看出来，该模式在开机启动时需要自检，启动过程较复杂，由于BIOS无法识别GPT分区，所以在传统BIOS下GPT磁盘不能用于安装操作系统，只能用于数据存储。
### UEFI
UEFI的运行流程是：开机-->UEFI初始化-->引导操作系统-->进入系统；该模式直接从预启动的操作环境加载操作系统，简化开机过程有效提高启动速度。可以同时识别MBR和GPT，在UEFI模式中MBR和GPT都支持安装操作系统。
>**提示：**微软规定，在UEFI模式只能使用GPT硬盘安装Windows系统。

## Win10安装流程
前面介绍了关于重装系统，需要了解的一点基础知识；下面采用UEFI + GPT模式，详细介绍一下安装Win10 64位系统的过程。

### 制作U盘启动盘
1、准备一个8G以上的U盘；  
2、下载[老毛桃U盘启动盘制作工具](http://www.laomaotao.org/ "laomaotao")，制作U盘启动盘，制作U盘启动盘会格式化U盘，所以提前备份好U盘里原来的资料。

### 下载系统文件
去网上下载一个原版win10 64系统ISO文件，并存放到U盘中去，建议下载1073或者以上版本的，后面会说明缘由。

### 磁盘分区
1、重启电脑，进入U盘里的PE系统；  
2、打开PE系统里的DiskGenius分区工具，对磁盘进行分区操作；以我的电脑为例，有两块磁盘，一块为固态硬盘640g，另一块为机械硬盘1T，首先，对固态硬盘（系统会安装在固态硬盘里），采用GUID方式（勾选上建立ESP分区复选框）进行分区，分为两个盘C和D，然后，对机械硬盘，采用MBR方式（这里不需要构建主引导记录）进行分区，分为E和F盘。
>**提示：**机械硬盘主要用于存储文档数据，而且不超过2T，所以这里采用MBR方式分区。

### 系统安装
1、打开PE系统里的Window安装器工具；  
2、选择U盘里的系统ISO文件；  
3、选择安装系统的盘符为上一步分好区的C盘；  
4、选择安装主引导记录的盘符为上一步分好区的ESP分区（约为100M的一个盘）；  
5、点击安装按钮，进度条走完之后，重启电脑，重启电脑后会自动进行配置，根据提示点下一步即可；
>**提示：**现在的新型主板都是采用UEFI启动，以前的主板默认采用的是Legacy启动，所以重启电脑后，需要将主板的启动方式改为UEFI启动。

## 遇到的问题

### 系统安装在了MBR分区盘符上
最开始重装Win10系统的时候，不太理解GPT和MBR的区别，C盘分成MBR分区了，导致装完Win10系统后进行更新时，弹出磁盘格式不对的信息。

### 安装了版本在1073版本一下的Win10系统
最开始安装了1073版本以下的Win10系统，导致机器的GTX1060显卡驱动安装不上，网上查了下原因是要更新安装微软关于NVDIA显卡的补丁，但是补丁却一直安装不成功，所以继续去网上找解决方案，网上大部分的建议是安装1073版本以上的系统。

### 安装了教育版后遇到的问题
起初，安装的是Win10 64位教育版，在VS2010中批生成编译程序时，系统会突然卡死，去网上找解决方法，然而一直没找到...，最后在一篇博客里，看到了各种吐槽教育版的回复，所以尝试换了Win10 64位专业版，重装之后，VS2010中批生成的问题就这么解决了，推测估计是系统版本导致的不兼容问题。

## 总结
本文主要介绍了有关操作系统的一点基础知识、Win10系统安装的详细流程以及安装过程中遇到的相关问题，文章有不足或者疏漏的地方，欢迎大家在下面评论区讨论。

